<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>ACLAP</title>





<!-- jquary -->
<script src="http://code.jquery.com/jquery-3.5.1.min.js"></script>

<!-- bootstrap -->
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
<!-- icon -->
<meta name="viewport" content="width=device-width, initial-scale=1">
<link href="../fontawesome-free-5.15.3-web/css/all.css" rel="stylesheet">

<link rel="stylesheet" href="../css/categoryCss.css">

<!-- iamport -->
<script src="https://cdn.iamport.kr/js/iamport.payment-1.1.5.js" type="text/javascript"></script>



</head>

<body>
<script type="text/javascript">
$("#naviBar").load("../navibar.html");
$("#footer").load("../footer.html");
</script>

<div id='naviBar'></div>
<div class="mainViewW">
<!-- Primary Category -->
	<div class="midClassMenu">
		<ul class="navListTop2">
			<li class="listItem2"><a class="categoryA langLink" id="allClass" eng="전체" href="javascript:void(0);">
			<i class="fas fa-home" style="font-size:46px;"></i><br>전체보기</a></li>
			<li class="listItem2"><a class="categoryA langLink" id="langClass" eng="외국어" href="javascript:void(0);">
			<i class="fas fa-language" style="font-size:46px;"></i><br>외국어</a></li>
			<li class="listItem2"><a class="categoryA createLink" id="createClass" eng="크리에이티브" href="javascript:void(0);">
			<i class="fas fa-palette" style="font-size:46px;"></i><br>크리에이티브</a></li>
			<li class="listItem2"><a class="categoryA cookingLink" id="cookingClass" eng="요리" href="javascript:void(0);">
			<i class="fas fa-utensils" style="font-size:46px;"></i><br>요리</a></li>
			<li class="listItem2"><a class="categoryA programmingLink" id="programmingClass" eng="프로그래밍" href="javascript:void(0);">
			<i class="fas fa-code" style="font-size:46px;"></i><br>프로그래밍</a></li>
			<li class="listItem2"><a class="categoryA sportsLink" id="sportsClass" eng="스포츠/레져" href="javascript:void(0);">
			<i class="fas fa-dumbbell" style="font-size:46px;"></i><br>스포츠/레져</a></li>
	    </ul>

	</div>
	
		<!-- 기본메인 -->
	<div class="categoryPage allClassMain" id="allCView">
		
		<div class="allClass">
		
			<div class="wrapper">
		

				
			</div>
		
		</div>	
		<!-- 정렬 셀렉트 및 검색 창 -->
		<div class="selectAndSearch">
		
			<div class="select">
			  <select name="choice" id="allChoice">
			    <option selected disabled>정렬 기준 선택</option>
			    <option value="orderByLike">인기순</option>
			    <option value="orderByRecent">최신순</option>
			    <option value="orderByAvg">평점순</option>
			  </select>
			  
			  
			</div>
			
			 <div class="search-box">
			  <input class="search-input" id="allSearchWord" type="text" placeholder="검색어 입력">
			  <a href="#" id="allBtnSearch" class="search-btn" >
			    <i class="fas fa-search"></i>
			  </a>     
			</div>
			
		</div>
		
			<!-- 리스트 가져오기 및 뿌려주기부분 -->
			<div class="searchedClassListView">
			
				<div class="classListTableAll">
					
				</div>
				
					
				
			</div>
			
		
		<div class="seeMoreDiv">
			<a href="#" class="seeMore" id="seeMoreAll">Show More</a>
		</div>
		
	</div>
	
	
	<!-- 외국어 -->
	<div class="categoryPage langClassMain" id="langCView">
		
		<div class="langClass">
			

			
		</div>
		<!-- 정렬 셀렉트 및 검색 창 -->
			<div class="selectAndSearch">
			
				<div class="select">
				  <select name="choice" id="langChoice">
				    <option selected disabled>정렬 기준 선택</option>
				    <option value="orderByLike">인기순</option>
				    <option value="orderByRecent">최신순</option>
				    <option value="orderByAvg">평점순</option>
				  </select>
				  
				  
				</div>
				
				 <div class="search-box">
				  <input class="search-input" id="langSearchWord" type="text" placeholder="검색어 입력">
				  <a href="#" id="langBtnSearch" class="search-btn">
				    <i class="fas fa-search"></i>
				  </a>     
				</div>
				
			</div>
			<!-- 리스트 가져오기 및 뿌려주기부분 -->
			<div class="searchedClassListView">
			
				<div class="classListTableLang">
					
				</div>
				
					
				
			</div>
			
			
		<div class="seeMoreDiv">
			<a href="#" class="seeMore" id="seeMoreLang">Show More</a>
		</div>
		

		
	</div>
	
	<!-- 크리에이티브 -->
	<div class="categoryPage createClassMain" id="creCView">
		
		<div class="createClass">
		

		
		</div>
			<!-- 정렬 셀렉트 및 검색 창 -->
			<div class="selectAndSearch">
			
				<div class="select">
				  <select name="choice" id="createChoice">
				    <option selected disabled>정렬 기준 선택</option>
				    <option value="orderByLike">인기순</option>
				    <option value="orderByRecent">최신순</option>
				    <option value="orderByAvg">평점순</option>
				  </select>
				  
				  
				</div>
				
				 <div class="search-box">
				  <input class="search-input" id="createSearchWord" type="text" placeholder="검색어 입력">
				  <a href="#" id="createBtnSearch" class="search-btn">
				    <i class="fas fa-search"></i>
				  </a>     
				</div>
				
			</div>
			<!-- 리스트 가져오기 및 뿌려주기부분 -->
			<div class="searchedClassListView">
			
				<div class="classListTableCreate">
					
				</div>
				
					
				
			</div>
			
			
		<div class="seeMoreDiv">
			<a href="#" class="seeMore" id="seeMoreCreate">Show More</a>
		</div>
		
	</div>
		

	
	<!-- 요리 -->
	<div class="categoryPage cookingClassMain" id="cooCView">
		
		<div class="cookingClass">
		

		
		</div>
			<!-- 정렬 셀렉트 및 검색 창 -->
			<div class="selectAndSearch">
			
				<div class="select">
				  <select name="choice" id="cookChoice">
				    <option selected disabled>정렬 기준 선택</option>
				    <option value="orderByLike">인기순</option>
				    <option value="orderByRecent">최신순</option>
				    <option value="orderByAvg">평점순</option>
				  </select>
				  
				  
				</div>
				
				 <div class="search-box">
				  <input class="search-input" id="cookSearchWord" type="text" placeholder="검색어 입력">
				  <a href="#" id="cookBtnSearch" class="search-btn">
				    <i class="fas fa-search"></i>
				  </a>     
				</div>
				
			</div>
			<!-- 리스트 가져오기 및 뿌려주기부분 -->
			<div class="searchedClassListView">
			
				<div class="classListTableCook">
					
				</div>
				
					
				
			</div>
			
			
		<div class="seeMoreDiv">
			<a href="#" class="seeMore" id="seeMoreCook">Show More</a>
		</div>
		
	
	</div>
	
	<!-- 프로그래밍 -->
	<div class="categoryPage programmingClassMain" id="proCView">
		
		<div class="programmingClass">
		

		
		</div>
		<!-- 정렬 셀렉트 및 검색 창 -->
			<div class="selectAndSearch">
			
				<div class="select">
				  <select name="choice" id="programChoice">
				    <option selected disabled>정렬 기준 선택</option>
				    <option value="orderByLike">인기순</option>
				    <option value="orderByRecent">최신순</option>
				    <option value="orderByAvg">평점순</option>
				  </select>
				  
				  
				</div>
				
				 <div class="search-box">
				  <input class="search-input" id="programSearchWord" type="text" placeholder="검색어 입력">
				  <a href="#" id="programBtnSearch" class="search-btn">
				    <i class="fas fa-search"></i>
				  </a>     
				</div>
				
			</div>
			<!-- 리스트 가져오기 및 뿌려주기부분 -->
			<div class="searchedClassListView">
			
				<div class="classListTableProgram">
					
				</div>
				
					
				
			</div>
			
			
		<div class="seeMoreDiv">
			<a href="#" class="seeMore" id="seeMoreProgram">Show More</a>
		</div>
	</div>
	
	
	<!-- 스포츠/레져 -->
	<div class="categoryPage sportsClassMain" id="spoCVIew">
			
		<div class="sportsClass">
		

		
		</div>
		<!-- 정렬 셀렉트 및 검색 창 -->
			<div class="selectAndSearch">
			
				<div class="select">
				  <select name="choice" id="sportChoice">
				    <option selected disabled>정렬 기준 선택</option>
				    <option value="orderByLike">인기순</option>
				    <option value="orderByRecent">최신순</option>
				    <option value="orderByAvg">평점순</option>
				  </select>
				  
				  
				</div>
				
				 <div class="search-box">
				  <input class="search-input" id="sportSearchWord" type="text" placeholder="검색어 입력">
				  <a href="#" id="sportBtnSearch" class="search-btn">
				    <i class="fas fa-search"></i>
				  </a>     
				</div>
				
			</div>
			<!-- 리스트 가져오기 및 뿌려주기부분 -->
			<div class="searchedClassListView">
			
				<div class="classListTableSport">
					
				</div>
				
					
				
			</div>
			
			
		<div class="seeMoreDiv">
			<a href="#" class="seeMore"id="seeMoreSport">Show More</a>
		</div>
		
	</div>	
	






</div>

<div id='footer'></div>


<script type="text/javascript">
	$("#naviBar").load("../navibar.html");
	$("#footer").load("../footer.html");
$(document).ready(function(){
	
	
	
	
	
	$('.allClassMain').show();
	$('.langClassMain').hide();
	$('.createClassMain').hide();
	$('.cookingClassMain').hide();
	$('.programmingClassMain').hide();
	$('.sportsClassMain').hide();
	
	
	/* 전체보기 눌렀을때 */
	$('#allClass').click(function () {
		$('.allClassMain').hide();
		$('.langClassMain').hide();
		$('.createClassMain').hide();
		$('.cookingClassMain').hide();
		$('.programmingClassMain').hide();
		$('.sportsClassMain').hide();
		
		
		
		$('.allClassMain').show();
		$('.allClassMain').addClass('pt-page-moveFromRight');

		  
	});
	
	/* 대분류 외국어 눌렀을때 */
	$('#langClass').click(function () {
		$('.allClassMain').hide();
		$('.langClassMain').hide();
		$('.createClassMain').hide();
		$('.cookingClassMain').hide();
		$('.programmingClassMain').hide();
		$('.sportsClassMain').hide();
		
		
		$('.langClassMain').show();
		$('.langClassMain').addClass('pt-page-moveFromRight');

		  
	});
	
	
	
	$('#createClass').click(function () {
		$('.langClassMain').hide();
		$('.createClassMain').hide();
		$('.cookingClassMain').hide();
		$('.programmingClassMain').hide();
		$('.sportsClassMain').hide();
		$('.allClassMain').hide();
		
		
		  $('.createClassMain').show();
		  $('.createClassMain').addClass('pt-page-moveFromLeft');
	});
	
	$('#cookingClass').click(function () {
		$('.langClassMain').hide();
		$('.createClassMain').hide();
		$('.cookingClassMain').hide();
		$('.programmingClassMain').hide();
		$('.sportsClassMain').hide();
		$('.allClassMain').hide();
		
		$('.cookingClassMain').show();
		$('.cookingClassMain').addClass('pt-page-moveFromBottom');
	});
	
	$('#programmingClass').click(function () {
		$('.langClassMain').hide();
		$('.createClassMain').hide();
		$('.cookingClassMain').hide();
		$('.programmingClassMain').hide();
		$('.sportsClassMain').hide();
		$('.allClassMain').hide();

		$('.programmingClassMain').show();
		$('.programmingClassMain').addClass('pt-page-moveFromTop');
	});	
	
	$('#sportsClass').click(function () {
		$('.langClassMain').hide();
		$('.createClassMain').hide();
		$('.cookingClassMain').hide();
		$('.programmingClassMain').hide();
		$('.sportsClassMain').hide();
		$('.allClassMain').hide();

		$('.sportsClassMain').show();
		
		$('.sportsClassMain').addClass('pt-page-moveFromLeft');
	});	
	
	
});


//클래스 리스트 가져오기



if (window.location.hash === '#goToClass') {
classListData(0, '', '', '');
}
//classListData(0, '', '', '');

var vari =  $('.classCard:hidden').length;

let mySearch ='';
let myChoice ='';

let pcVal='';

$(document).ready(function () {
	

$('#allBtnSearch').click(function () {
	mySearch = $("#allSearchWord").val();
	myChoice = $("#allChoice").val();
	pcVal = '';
	classListData(0, myChoice, mySearch, pcVal);
	
});
$('#langBtnSearch').click(function () {
	mySearch = $("#langSearchWord").val();
	myChoice = $("#langChoice").val();
	pcVal='외국어';
	classListData(0, myChoice, mySearch, pcVal);

});
$('#createBtnSearch').click(function () {
	mySearch = $("#createSearchWord").val();
	myChoice = $("#createChoice").val();
	pcVal = '크리에이티브';
	classListData(0, myChoice, mySearch, pcVal);
	
});
$('#cookBtnSearch').click(function () {
	mySearch = $("#cookSearchWord").val();
	myChoice = $("#cookChoice").val();
	pcVal = '요리';
	classListData(0, myChoice, mySearch, pcVal);

});
$('#programBtnSearch').click(function () {
	mySearch = $("#programSearchWord").val();
	myChoice = $("#programChoice").val();
	pcVal = '프로그래밍';
	classListData(0, myChoice, mySearch, pcVal);

});
$('#sportBtnSearch').click(function () {
	mySearch = $("#sportSearchWord").val();
	myChoice = $("#sportChoice").val();
	
	classListData(0, myChoice, mySearch, pcVal);
	
});


});


$(document).on("click", ".categoryA", function () { 
	pcVal=$(this).attr('eng');
	
	if (pcVal=='전체'){
		pcVal = '';
		
		classListData(0, '', '', pcVal);
		
	}
	
	if (pcVal=='외국어'){
		pcVal = '외국어';
	
		classListData(0, '', '', pcVal);
		
	}
	if (pcVal=='크리에이티브'){
		pcVal = '크리에이티브';
		classListData(0, '', '', pcVal);
	
	}
	if (pcVal=='요리'){
		pcVal = '요리';
		classListData(0, '', '', pcVal);

	}
	if (pcVal=='프로그래밍'){
		pcVal = '프로그래밍';
		classListData(0, '', '', pcVal);

	}
	if (pcVal=='스포츠/레져'){
		pcVal = '스포츠레저';
		classListData(0, '', '', pcVal);

	}
	
});

function classListData( pNumber, myChoice, mySearch, pcVal ) {
			
			
	$.ajax({
		url:"http://192.168.0.230:3000/classListData",
		type:"get",
		
		data:{ page:pNumber, choice:myChoice, search:mySearch, primaryCategory: pcVal  },
		success:function( list ){
			//alert(list);
			//alert('success');
			$(".classCard").remove();
			$(".container").remove();
			$(".seeMore").show();
			if(list.length==0){
				 $(".seeMore").text("등록된클래스가 없습니다");
			}
			else if(list.length >0 && list.length<=4){
				$(".seeMore").hide();
			}
			else{
				 $(".seeMore").text("클래스 더 보기");
			}
			let app ='';
		
			$.each(list, function (i, val) {
				let startDD = val.startDate;
				startDD = startDD.substring(0,10);
				//<img class='classImg' src='"+val.image1+"' alt='no image'>"
				
				// alert(val.avgPoint);
				app = "<div class='classCard' id='"+val.classNum +"'>"
				app += "<img class='classImg' src='"+val.image1+"' alt='no image' align='center'>";
				app += "<div class='classContainer'>";
				app += "<div><font><i class='far fa-thumbs-up'></i>" + val.likeCount + "&nbsp;&nbsp;<i class='far fa-star'></i>"+val.avgPoint+"</font></div>";
				app += "<div class='marquee bluebox'><span><span>";
				app += "<a href=# class='classDetailNum'  id='classDN"+val.classNum +"' value='"+val.classNum+"' cate='"+pcVal+"' ><h4><b>" + val.title + "</b></h4></a>";
				app += "</span></span></div>";
				app += "<font>" + val.primaryCategory + val.secondaryCategory + "</font><br>";
				app += "<font> 포인트: " + val.price + "</font>";
				app += "</div></div>";
				
			

				
				if(pcVal==''){
					$(".classListTableAll").append(app);
					
					$('.classCard').css('display', 'none');
					
					$('.classCard').slice(0, 4).show();
					

					
					$(".seeMore").on("click", function(e) {
				    	e.preventDefault();
				    	$(".classCard:hidden").slice(0, 4).show();
				   		if (vari == 0) {
				     	 $(".seeMore").fadeOut("slow");
				     	
				    	}

				   		
					});
					
				}
				
				if(pcVal=='외국어'){
					$(".classListTableLang").append(app);
					
					$('.classCard').css('display', 'none');
					
					$('.classCard').slice(0, 4).show();
					
					$(".seeMore").on("click", function(e) {
				    	e.preventDefault();
				    	$(".classCard:hidden").slice(0, 4).show();
				   		if (vari == 0) {
				     	 $(".seeMore").fadeOut("slow");
				     	
				    	}
					});

				}
				if(pcVal=='크리에이티브'){
					$(".classListTableCreate").append(app);
					
					$('.classCard').css('display', 'none');
					
					$('.classCard').slice(0, 4).show();
					$(".seeMore").on("click", function(e) {
				    	e.preventDefault();
				    	$(".classCard:hidden").slice(0, 4).show();
				   		if (vari == 0) {
				     	 $(".seeMore").fadeOut("slow");
				     	
				    	}
					});
				}
				if(pcVal=='요리'){
					$(".classListTableCook").append(app);
					
					$('.classCard').css('display', 'none');
					
					$('.classCard').slice(0, 4).show();
					
					$(".seeMore").on("click", function(e) {
				    	e.preventDefault();
				    	$(".classCard:hidden").slice(0, 4).show();
				   		if (vari == 0) {
				     	 $(".seeMore").fadeOut("slow");
				     	
				    	}
					});
				}
				if(pcVal=='프로그래밍'){
					$(".classListTableProgram").append(app);
					
					$('.classCard').css('display', 'none');
					
					$('.classCard').slice(0, 4).show();
					$(".seeMore").on("click", function(e) {
				    	e.preventDefault();
				    	$(".classCard:hidden").slice(0, 4).show();
				   		if (vari == 0) {
				     	 $(".seeMore").fadeOut("slow");
				     	
				    	}
					});
				}
				if(pcVal=='스포츠레저'){
					$(".classListTableSport").append(app);
					
					$('.classCard').css('display', 'none');
					
					$('.classCard').slice(0, 4).show();
					$(".seeMore").on("click", function(e) {
				    	e.preventDefault();
				    	$(".classCard:hidden").slice(0, 4).show();
				   		if (vari == 0) {
				     	 $(".seeMore").fadeOut("slow");
				     	
				    	}
					});
				}
				
		
		
		}); 
		
			imageGrid();
			
		},
		error:function(){
			alert('error');
		}
	});
}


	

//클래스 클릭시 디테일로~
$(document).on("click", ".classDetailNum", function () { 
	var tseq=$(this).attr('value');
	var cate=$(this).attr('cate');

  location.href='../onedayClassView/onedayClassDetail.html?seq='+tseq+"&cate="+cate;

});

function imageGrid() {
	let images='';
	images = "<div class='container'>";
	images += "<div class='horizontal'><img  src='https://picsum.photos/500/200' alt=''></div>";
	images += "<div class='vertical'><img  src='https://picsum.photos/200/350' alt=''></div>";
	images += "<div><img src='https://picsum.photos/200/200' alt=''></div>";
	images += "<div class='big'><img   src='https://picsum.photos/600/600' alt=''></div>";
	images += "<div><img src='https://picsum.photos/200/220' alt=''></div>";
	images += "<div><img src='https://picsum.photos/220/250' alt=''></div>";
	images += "<div><img src='https://picsum.photos/200/240' alt=''></div>";
	images += "<div><img src='https://picsum.photos/220/230' alt=''></div>";
	images += "<div><img src='https://picsum.photos/250/200' alt=''></div></div>";
	$(".allClass").append(images);
	$(".langClass").append(images);
	$(".createClass").append(images);
	$(".cookingClass").append(images);
	$(".programmingClass").append(images);
	$(".sportsClass").append(images);
	
};




//메인에서 클릭으로 넘어올때
if (window.location.hash === '#langClass') {
 $(function () {
		$('.allClassMain').hide();
		$('.langClassMain').hide();
		$('.createClassMain').hide();
		$('.cookingClassMain').hide();
		$('.programmingClassMain').hide();
		$('.sportsClassMain').hide();
		
		
		$('.langClassMain').show();
		$('.langClassMain').addClass('pt-page-moveFromRight');
		classListData(0, '', '', '외국어');
		
	}); 
	
}
if (window.location.hash === '#createClass') {
 $(function () {
		$('.langClassMain').hide();
		$('.createClassMain').hide();
		$('.cookingClassMain').hide();
		$('.programmingClassMain').hide();
		$('.sportsClassMain').hide();
		$('.allClassMain').hide();
		
		
		  $('.createClassMain').show();
		  $('.createClassMain').addClass('pt-page-moveFromLeft');
		
		  pcVal = '크리에이티브';
			mySearch = $("#createSearchWord").val();
			myChoice = $("#createChoice").val();
			classListData(0, myChoice, mySearch, pcVal);
			$('#createBtnSearch').click(function () {
				mySearch = $("#createSearchWord").val();
				myChoice = $("#createChoice").val();
				
				classListData(0, myChoice, mySearch, pcVal);
				
			});
	});
	
}

if (window.location.hash === '#cookingClass') {
$(function () {
		$('.langClassMain').hide();
		$('.createClassMain').hide();
		$('.cookingClassMain').hide();
		$('.programmingClassMain').hide();
		$('.sportsClassMain').hide();
		$('.allClassMain').hide();
		
		$('.cookingClassMain').show();
		$('.cookingClassMain').addClass('pt-page-moveFromBottom');
		
		pcVal = '요리';
		mySearch = $("#cookSearchWord").val();
		myChoice = $("#cookChoice").val();
		classListData(0, myChoice, mySearch, pcVal);
		$('#cookBtnSearch').click(function () {
			mySearch = $("#cookSearchWord").val();
			myChoice = $("#cookChoice").val();
			//alert('검색한 값:' + mySearch);
			classListData(0, myChoice, mySearch, pcVal);
		
		});
	}); 
	
}
if (window.location.hash === '#programmingClass') {
	$(function () {
		$('.langClassMain').hide();
		$('.createClassMain').hide();
		$('.cookingClassMain').hide();
		$('.programmingClassMain').hide();
		$('.sportsClassMain').hide();
		$('.allClassMain').hide();

		$('.programmingClassMain').show();
		$('.programmingClassMain').addClass('pt-page-moveFromTop');
		
		pcVal = '프로그래밍';
		mySearch = $("#programSearchWord").val();
		myChoice = $("#programChoice").val();
		classListData(0, myChoice, mySearch, pcVal);
		$('#programBtnSearch').click(function () {
			mySearch = $("#programSearchWord").val();
			myChoice = $("#programChoice").val();
			//alert('검색한 값:' + mySearch);
			classListData(0, myChoice, mySearch, pcVal);
		
		});
	});
	
}
if (window.location.hash === '#sportsClass') {
	$(function () {
		$('.langClassMain').hide();
		$('.createClassMain').hide();
		$('.cookingClassMain').hide();
		$('.programmingClassMain').hide();
		$('.sportsClassMain').hide();
		$('.allClassMain').hide();

		$('.sportsClassMain').show();
		
		$('.sportsClassMain').addClass('pt-page-moveFromLeft');
		
		pcVal = '스포츠레저';
		mySearch = $("#sportSearchWord").val();
		myChoice = $("#sportChoice").val();
		classListData(0, myChoice, mySearch, pcVal);
		$('#sportBtnSearch').click(function () {
			mySearch = $("#sportSearchWord").val();
			myChoice = $("#sportChoice").val();
			
			classListData(0, myChoice, mySearch, pcVal);
			
		});
	});
	
}





////////////////////////////////
/* let urlParams = location.search.split(/[?&]/).slice(1).map(function(paramPair) {
    return paramPair.split(/=(.+)?/).slice(0, 2);
}).reduce(function(obj, pairArray) {
    obj[pairArray[0]] = pairArray[1];
    return obj;
}, {});

let seq = urlParams.seq */

if (window.location.hash === '#comeBack') {
	comeBack();
}
	
function comeBack() {
	//alert(seq);
	//alert("comeBack");
	
	
	const queryString = window.location.search;
	const urlParams = new URLSearchParams(queryString);
	const cate = urlParams.get('cate');
	const ssseq = urlParams.get('seq');
	//alert(cate);
	//alert(ssseq);
	$('.allClassMain').hide();
	$('.langClassMain').hide();
	$('.createClassMain').hide();
	$('.cookingClassMain').hide();
	$('.programmingClassMain').hide();
	$('.sportsClassMain').hide();
	
	
	
	$('.allClassMain').show();
	$('.allClassMain').addClass('pt-page-moveFromRight');

	mySearch = $("#allSearchWord").val();
	myChoice = $("#allChoice").val();
	goBackClassList(0, mySearch, myChoice, cate, ssseq);
}

function goBackClassList(pNumber, mySearch, myChoice, cate, ssseq) {
	//alert('gpgpg');

	
	$.ajax({
		url:"http://192.168.0.230:3000/classListData",
		type:"get",
		data:{ page:pNumber, choice:myChoice, search:mySearch, primaryCategory:cate},
		success:function( list ){
			//alert(list);
			//alert('success');
			$(".classCard").remove();
			$(".container").remove();
			$(".seeMore").hide();
			
			let app ='';
		
			$.each(list, function (i, val) {
				let startDD = val.startDate;
				startDD = startDD.substring(0,10);
				//<img class='classImg' src='"+val.image1+"' alt='no image'>"
				app += "<div class='classCard' id='"+val.classNum +"'>"
				app += "<img class='classImg' src='"+val.image1+"' alt='no image' align='center'>";
				app += "<div class='classContainer'>";
				app += "<div><font><i class='far fa-thumbs-up'></i>" + val.likeCount + "&nbsp;&nbsp;<i class='far fa-star'></i>"+val.avgPoint+"</font></div>";
				app += "<div class='marquee bluebox'><span><span>";
				app += "<a href=# class='classDetailNum'  id='classDN"+val.classNum +"' value='"+val.classNum+"' cate='"+pcVal+"' ><h4><b>" + val.title + "</b></h4></a>";
				app += "</span></span></div>";
				app += "<font>" + val.primaryCategory + val.secondaryCategory + "</font><br>";
				app += "<font> 포인트: " + val.price + "</font>";
				app += "</div></div>";
			}); 

			$(".classListTableAll").append(app);
			
			let divClassNum = "#" + ssseq;
			fnMove(ssseq);
			/*  
			$('html, body').animate({
	            scrollTop: $(divClassNum).offset({top:10})
	        }, 'fast'); //slow
 			*/
			function fnMove(ssseq){
		        var offset = $("#" + ssseq).position({top:400, left:10});
		        $('html, body').animate({scrollTop : offset.top}, 400); 
		    }

 			imageGrid();
			// location.href = divClassNum;
	        
		},
		error:function(){
			alert('error');
		}
	});
}



/* //디테일에서 돌아올때 
if(window.location.hash === '') {

//디테일에서
var x = cardNum;
x += val.seq;
== cardNum22
href="../categoryPage/categoryViewPage.html#cardNum"

*/
window.onpageshow = function(event) {
	if ( event.persisted || (window.performance && window.performance.navigation.type == 2)) {
		//classListData(0, '', '', '');
		location.href="./categoryViewPage.html#goToClass";
		classListData(0, '', '', '');
	}
}





   


</script>

</body>
</html>